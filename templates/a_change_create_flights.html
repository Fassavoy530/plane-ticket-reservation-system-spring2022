<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Create New Flights & Change Status</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body>
    <div class="toprow">
      <a href="{{ url_for('home_page') }}">
      <img src="static/plane.png" alt="this is a small plane" class = "topimage">
      </a>
      <h1 class="topwords">Create New Flights & Change Status</h1>
    </div>

    <div class="links">
      <center>
        <a href="{{ url_for('a_home') }}">Home</a> &nbsp | &nbsp
        <a href="{{ url_for('a_view') }}">View my Flights</a> &nbsp | &nbsp
        <a href="{{ url_for('a_change_create_flights') }}">Create New Flights & Change Status</a> &nbsp | &nbsp
        <a href="{{ url_for('a_add_airplane_airport') }}">Add Airplane & Airport</a> &nbsp | &nbsp
        <a href="{{ url_for('a_view_booking_agent') }}">View Booking Agents</a> <br>
        <a href="{{ url_for('a_view_customer') }}">View Frequent Consumers</a> &nbsp | &nbsp
        <a href="{{ url_for('a_report') }}">View Tickets Reports</a> &nbsp | &nbsp
        <a href="{{ url_for('a_revenue') }}">Revenue Comparison</a> &nbsp | &nbsp
        <a href="{{ url_for('a_destination') }}">View Top Destination</a> &nbsp | &nbsp
        <a href="{{ url_for('a_permission') }}">Grant Permissions</a> &nbsp | &nbsp
        <a href="{{ url_for('a_add_booking_agent') }}">Add Booking Agent</a> &nbsp | &nbsp
        <a href="/logout">Log Out</a>
      </center>
    </div>

    <div style="text-align: center">
      {% if error %}
      <h2 style="color: firebrick">{{error}}</h2>
      {% endif %}
    </div>

    {% if admin %}
      <div style="text-align: center">
        <form action="/acreate" method="POST">
          <h2><u>Create New Flights</u></h2>
          <label for="f_n">Flight Number</label> <br>
          <input type="text" name="f_n" value="" required> <br><br>
          <label for="airp_id">Airplane</label> <br>
          <select name="airp_id" required>
              {% if airplane_id %}
                {% for airplane in airplane_id %}
                    <option value="{{airplane}}" >{{airplane}}</option>
                {% endfor %}
              {% else %}
                <option value="None" >--Sorry: No airplane available now--</option>
              {% endif %}
          </select> <br><br>
          <label for="depar_date">Departure Date</label> <br>
          <input type="date" name="depar_date" value="" required onfocus="(this.type='date')" onblur="(this.type='text')"> <br><br>
          <label for="departure_time">Departure Time</label> <br>
          <input type="time" name = "departure_time" placeholder="departure_time" required/> </br><br>
          <label for="arr_date">Arrival Date</label> <br>
          <input type="date" name="arr_date" value="" required onfocus="(this.type='date')" onblur="(this.type='text')"> <br><br>
          <label for="arrival_time">Arrival Time</label> <br>
          <input type="time" name = "arrival_time" placeholder="arrival_time" required/> </br><br>
          <label for="depar_airport">Departure Airport</label> <br>
          <select name="depar_airport" required>
              {% if airport %}
                {% for airp in airport %}
                    <option value="{{airp}}" >{{airp}}</option>
                {% endfor %}
              {% else %}
                <option value="None" >--Sorry: No airport available now--</option>
              {% endif %}
          </select> <br><br>
          <label for="arrival_airport">Arrival Airport</label> <br>
          <select name="arrival_airport" required>
              {% if airport %}
                {% for airp in airport %}
                    <option value="{{airp}}" >{{airp}}</option>
                {% endfor %}
              {% else %}
                <option value="None" >--Sorry: No airport available now--</option>
              {% endif %}
          </select> <br><br>
          <label for="status">Status</label> <br>
          <input type="text" name="status" value="" required> <br><br>
          <label for="price">Price</label> <br>
          <input type="text" name="price" value="" required> <br><br>

          <button type="Search" name="button" class="button button1">Submit</button>
        </form>

        {% if error0 %}
              <h4 style="color: firebrick">{{error0}}</h4>
        {% endif %}
        {% if error1 %}
              <h4 style="color: firebrick">{{error1}}</h4>
        {% endif %}
        {% if error2 %}
              <h4 style="color: firebrick">{{error2}}</h4>
        {% endif %}
        {% if error3 %}
              <h4 style="color: firebrick">{{error3}}</h4>
        {% endif %}
        {% if error4 %}
              <h4 style="color: firebrick">{{error4}}</h4>
        {% endif %}
        {% if error5 %}
              <h4 style="color: firebrick">{{error5}}</h4>
        {% endif %}

        {% if message %}
            <h4 style="color: #168107">{{message}}</h4>
        {% endif %}

        {% if flights %}
        <h2><u>Flights in the next 30 dyas</u></h2>
        {% endif %}
      </div>
    {% endif %}

    {% if operator %}
      <div style="text-align: center">
        <form action="/achange" method="POST">
        <h2><u>Change Status of Flights</u></h2>
        <label for="flight_number">Choose a flight number</label> <br>
          <select name="flight_number" required>
              {% if flight_num %}
                {% for flight in flight_num %}
                    <option value="{{flight}}" >{{flight}}</option>
                {% endfor %}
              {% else %}
                <option value="None" >--Sorry: No flight available now--</option>
              {% endif %}
          </select> <br><br>

        <label for="newstatus">New Status</label> <br>
          <select name="newstatus" required>
            <option value="Upcoming" >Upcoming</option>
            <option value="In Progress" >In Progress</option>
            <option value="Delayed" >Delayed</option>
          </select> <br><br>
          <button type="Search" name="button" class="button button1">Submit</button>
        </form>

        {% if error6 %}
              <h4 style="color: firebrick">{{error6}}</h4>
        {% endif %}
        {% if message2 %}
            <h4 style="color: #168107">{{message2}}</h4>
        {% endif %}
      </div>
    {% endif %}

